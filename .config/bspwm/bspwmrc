#! /bin/sh

xsetroot -cursor_name left_ptr
$XDG_CONFIG_HOME/polybar/launch.sh

primary_mon=$(xrandr | grep '\bconnected primary\b' | head -n1 | cut -d' ' -f1)
bspc monitor "$primary_mon" -d I II III IV V
bspc monitor "$primary_mon" -f
bspc monitor last -r

bspc config single_monocle          true
bspc config borderless_monocle      true

bspc config border_width            2
bspc config window_gap              20

bspc config pointer_modifier mod4
bspc config pointer_action1 move
bspc config pointer_action2 resize_side

bspc config initial_polarity first_child

if [ "$(xrandr | awk '/primary/ {print $1}')" != "eDP1" ] &&
    which altty-auto-pad > /dev/null 2>&1; then
    pgrep -f "bash.+altty-auto-pad" | xargs -I{} kill {};
    altty-auto-pad &
else
    altty-padding unpad
fi

source "$XDG_CONFIG_HOME/bspwm/colors"
