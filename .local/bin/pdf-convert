#!/usr/bin/env bash

[[ $# -eq 0 ]] && echo "argument missing" && exit 1

if [[ $# -eq 1 ]]; then
    name="$1"
else
    name="$2"
fi

name=$(echo "$name" | sed -E 's/(.*)\.(.+)/\1/')

if [[ $# -eq 1 ]]; then
    pdftoppm -png "$1" "$name"
else
    case "$1" in
	-png)
	    pdftoppm -png "$2" "$name"
	    ;;
	*)
	    echo "unknown extension" && exit 1
	    # TODO
	esac
fi
